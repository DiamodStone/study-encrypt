apply plugin: 'java'
apply plugin: 'idea'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

buildscript {
    repositories {
        jcenter()
    }
}

idea {
    project {
        jdkName = '1.8'
        languageLevel = '1.8'
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

sourceSets {
    main {
        output.resourcesDir = output.classesDir
    }
}

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile 'commons-codec:commons-codec:latest.release'
    testCompile 'junit:junit:latest.release',
            'org.hamcrest:hamcrest-all:latest.release',
            'org.mockito:mockito-all:latest.release'
}

task copyResources << {
    copy {
        from 'src/main/java'
        include '**/*.xml'
        into sourceSets.main.output.classesDir
    }
    copy {
        from 'src/test/java'
        include '**/*.xml'
        into sourceSets.test.output.classesDir
    }
}
